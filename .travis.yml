language: php
sudo: required
php:
- 5.6
- 7.0
- 7.1
before_script:
- cp .env.travis .env
- mysql -e 'create database homestead_test;'
- TEMP_PATH="$( mktemp --tmpdir --suffix=.ini -t php-no-debug.XXXXXXX )"
- FILES="$( /usr/bin/env php -r 'echo php_ini_loaded_file() . "\n" . str_replace(",","", php_ini_scanned_files());' )"
- cat $FILES | sed '/xdebug/d' > "$TEMP_PATH"
- /usr/bin/env php -n -c "$TEMP_PATH" -d allow_url_fopen=On -d detect_unicode=Off /usr/local/Cellar/composer/1.4.1/libexec/composer.phar "$@"
- rm -f "$TEMP_PATH"
- composer self-update
- composer install --no-interaction
- php artisan key:generate
script:
- vendor/bin/phpunit
notifications:
  slack:
    secure: g258tpE9C3HrNNgBJanvPO81l2c/RBfCwAK+RpCDDvcsO9F48aVJkpk98bgy3eHZlOOQB+rm/Bzox1Zhha2xPcDAfjaUa9HM3jiAMLMt/5Hj/xQQnlifo61cVSJtps2tpPuQU1XeqVY/xJtYWCE7xUbzbhxfOx2dl2J6UqNxO3nh9Cdf3o/TU/dEKn+KLvpuYe1C4iGRECKvWK3BLAW6Fsnfn71Z8uSFYKkcJnNZbBXXxwS5TUfqyQfRVESCNxqiorUWhNUdh2erqfcNJFqF++grl3JqRM5LDkx34CjfYTbhssKQ9Hio7dAPk/UUJphH9A9N2RYuOraAFxXm3oOweJOP50uJIDwkSJxKp3AvqI6o2qjmv6P5dHXqhWRVfYwMHiZiqdzT996BFXJ7x+xaFMjPN+zGmpaa9LV1eDWKlhe8Tl8sgzlJsbmuLbij0ZGirSmESBqWbGlyRA67vSGEUDYjz0rfP1Ydv3OezWAXKf1bCJBrq+6IORFBwbADthzRB+qPhscnX+SP15oXxKD19CepCHw87iKZkQG0OK1v3ZwDwdUdUXq3SUnhcItUWG21SFaDqvMYB0Xj/cx4qsBKmU2ZJWF4xChrmz7g9O+FCBR49i632HiyaWKjkOwYzVBcJgiOU9gDUW5smSZF6qg0FImwifi+2I5NYgEXfOuzH4c=
